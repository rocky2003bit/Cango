<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard (Simple)</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2em; }
    .error { color: red; }
    pre { background: #f4f4f4; padding: 1em; border-radius: 6px; }
  </style>
</head>
<body>
  <h1>Admin Dashboard Overview</h1>
  <button onclick="loadDashboard()">Load Dashboard Data</button>
  <div id="result"></div>
  <br><br>
  
  <div id="users"></div>
  <button onclick="goToContentManager()">ðŸ“¦ Manage Uploaded Content</button>
  <button onclick="goToUpload()">ðŸ“¤ Upload New Content</button>
  <button onclick="window.location.href='orders.html'">Orders</button>
  <button onclick="window.location.href='admin-users.html'">View All Users</button>




  
  <!-- âœ… Paste the logout button and script here -->
  <button onclick="logout()">Logout</button>

   <script>
  // ðŸ”’ Check if admin is logged in
  const adminEmail = localStorage.getItem("adminEmail");
  if (!adminEmail) {
    alert("âŒ Please login as admin first.");
    window.location.href = "admin-dashboard-login.html";
  }
     

  function loadDashboard() {
    const resultDiv = document.getElementById('result');
    resultDiv.textContent = "Loading...";

    fetch("http://localhost:5000/api/admin/dashboard/overview", {
      headers: {
        "x-admin-email": adminEmail
      }
    })
    .then(res => res.json())
    .then(data => {
      if (data.error) {
        resultDiv.innerHTML = '<span class="error">Error: ' + data.error + '</span>';
      } else {
        resultDiv.innerHTML = "<h3>Dashboard Data:</h3><pre>" + JSON.stringify(data, null, 2) + "</pre>";
      }
    })
    .catch(err => {
      resultDiv.innerHTML = '<span class="error">Error: ' + err + '</span>';
    });
  }
   // ... existing functions like loadDashboard()
 
  
    function logout() {
      localStorage.removeItem("adminEmail");
      window.location.href = "admin-dashboard-login.html";
    }
    function goToContentManager() {
    window.location.href = "admin-content-manager.html";
  }
  function goToUpload() {
  window.location.href = "admin-upload.html";
}

</script>

</body>
</html>